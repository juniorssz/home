---
title: Vetores de Texto
author: admin
date: '2020-04-23'
slug: character
categories: []
tags: []
subtitle: ''
summary: ''
authors: []
lastmod: '2020-04-23T15:52:49-03:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
weight: 2
output:
  blogdown::html_page:
    toc: true
    toc_depth: 3
---

```{r setup, cache = F, include=FALSE}
knitr::opts_chunk$set(error = TRUE)
```

## Visão Geral

<br>

Criando um vetor de 1 elemento:
```{r}
estado <- "Paraná"
estado
```

<br>

Contando o número de caracteres do elemento:
```{r}
nchar(estado)
```

<br>

Criando um vetor com múltiplos elementos:
```{r}
estados <- c("Paraná", "Goiania", "Cera", "PA")
estados
```

<br>

Contando o número de caracteres dos elementos:
```{r}
nchar(estado)
```

<br>

Contando o número de elementos do vetor:
```{r}
length(estados)
```

<br>

## Espaços

<br>

Trabalhando com espaços nos extremos:
```{r}
com_espaco <- " casa "
com_espaco
nchar(com_espaco)

sem_espaco <- trimws(com_espaco)
sem_espaco
nchar(sem_espaco)
```

<br>

Trabalhando com espaços internos:
```{r}
frase <- "R é qualidade de vida"
frase
nchar(frase)

frase_sem_espaco <- gsub(pattern = " ", replacement = "", x = frase)
frase_sem_espaco
nchar(frase_sem_espaco)
```

<br>

Contando espaços:
```{r}
nchar("")
nchar(" ")
nchar("  ")
nchar("   ")
```

<br>

## Conversão

<br>

Convertendo um vetor numérico para texto:
```{r}
numeros <- c(1,2,3,4,5)
numeros
class(numeros)

numeros_fake <- as.character(numeros)
numeros_fake
class(numeros_fake)
```

<br>

Convertendo um vetor de texto para númerico (formato numérico):
```{r}
numeros_conv <- as.numeric(numeros_fake)
numeros_conv
class(numeros_conv)
```

<br>

Convertendo um vetor de texto para numérico (formato texto):
```{r}
animais <- c("macaco", "cachorro", "girafa")
animais

conversao <- as.numeric(animais)
conversao
```

<br>

Convertendo um vetor de texto para numérico (formato numérico com separador incorreto):
```{r}
incorreto <- c("2,6", "4,7", "10,5")
incorreto

correto <- as.numeric(incorreto)
correto

correto <- gsub(pattern = ",", replacement = ".", incorreto)
correto
correto <- as.numeric(correto)
correto
```

<br>

## Extração de texto

<br>

Extraindo os 2 primeiros caracteres:
```{r}
codigos <- c("01-1234", "02-4321", "03-5678", "04-8765")
codigos

codigos_2p <- substr(x = codigos, start = 1, stop = 2)
codigos_2p
```

<br>

Extraindo os 4 últimos caracteres:
```{r}
codigos_4u <- substr(x = codigos, start = 4, stop = 8)
codigos_4u
```

<br>

Criando as funções <code>direita()</code> e <code>esquerda()</code> como no <i>Excel</i>:
```{r}
esquerda <- function(texto, n) {
  out <- substr(x = texto, 
                start = 1, 
                stop = n)
  return(out)
}

codigos_2p <- esquerda(texto = codigos,  n = 2)
codigos_2p


direita <- function(texto, n) {
  out <- substr(x = texto, 
                start = nchar(texto) - n + 1,
                stop = nchar(texto))
  return(out)
}

codigos_4u <- direita(texto = codigos, n = 4)
codigos_4u
```




